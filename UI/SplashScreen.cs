namespace RPGMenuSystem.UI;

public class SplashScreen
{
    public static void Show()
    {
        Console.Clear();
        Console.ForegroundColor = ConsoleColor.Cyan;
        
        string[] logo = new[]
        {
            @"",
            @"    ??????? ???????  ???????     ????   ????????????????   ??????   ???",
            @"    ????????????????????????     ????? ??????????????????  ??????   ???",
            @"    ???????????????????  ????    ?????????????????  ?????? ??????   ???",
            @"    ??????????????? ???   ???    ?????????????????  ?????????????   ???",
            @"    ???  ??????     ?????????    ??? ??? ?????????????? ???????????????",
            @"    ???  ??????      ???????     ???     ??????????????  ????? ???????",
            @"",
            @"                        ?????????????????????????????????",
            @"                        ?   THE LEGEND OF THE 72 REALMS ?",
            @"                        ?????????????????????????????????",
            @""
        };

        foreach (var line in logo)
        {
            Console.WriteLine(line);
            Thread.Sleep(100);
        }

        Console.ResetColor();
        Console.ForegroundColor = ConsoleColor.Yellow;
        Console.WriteLine("\n\n                              Press any key to start...");
        Console.ResetColor();
        
        Console.ReadKey(true);
        
        // Loading animation
        ShowLoadingAnimation();
    }

    private static void ShowLoadingAnimation()
    {
        Console.Clear();
        Console.ForegroundColor = ConsoleColor.Green;
        Console.WriteLine("\n\n\n");
        Console.WriteLine("                              Loading Game Assets...\n");
        
        string[] spinners = new[] { "|", "/", "-", "\\" };
        int spinnerIndex = 0;

        for (int i = 0; i <= 100; i += 2)
        {
            Console.SetCursorPosition(30, 5);
            Console.Write($"                    {spinners[spinnerIndex]} {i}% ");
            
            Console.SetCursorPosition(30, 6);
            Console.Write("                    [");
            int progress = i / 2;
            Console.Write(new string('?', progress));
            Console.Write(new string('?', 50 - progress));
            Console.Write("]");

            spinnerIndex = (spinnerIndex + 1) % spinners.Length;
            Thread.Sleep(30);
        }

        Console.WriteLine("\n\n                              Loading Complete!");
        Console.ResetColor();
        Thread.Sleep(500);
    }
}
