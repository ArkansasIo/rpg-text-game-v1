namespace RPGMenuSystem;

/// <summary>
/// Integration example: How to display Aethermoor in your game menu
/// Add this to your main menu or splash screen
/// </summary>
public class AethermoorWorldDisplay
{
    private Game.AethermoorWorldSystem _worldSystem = new();

    /// <summary>
    /// Display Aethermoor welcome screen
    /// Perfect for title screen or main menu
    /// </summary>
    public void DisplayWelcomeScreen()
    {
        Console.Clear();
        Console.WriteLine();
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine("?                                                              ?");
        Console.WriteLine("?          ?? WELCOME TO AETHERMOOR ??                         ?");
        Console.WriteLine("?                                                              ?");
        Console.WriteLine("?     A Vast Medieval Fantasy World Awaits Your Arrival         ?");
        Console.WriteLine("?                                                              ?");
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        Console.WriteLine(_worldSystem.GetWorldDescription());
        Console.WriteLine();
    }

    /// <summary>
    /// Display world information on splash screen
    /// </summary>
    public void DisplayWorldInfoScreen()
    {
        Console.Clear();
        Console.WriteLine();
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine("                    THE WORLD OF AETHERMOOR");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        var stats = _worldSystem.GetWorldStatistics();
        Console.WriteLine(stats.ToString());
        
        Console.WriteLine("\n?? THE SEVEN CONTINENTS:");
        var continents = _worldSystem.GetAllContinents();
        foreach (var continent in continents)
        {
            Console.WriteLine($"   • {continent.Name} - {continent.Theme}");
            Console.WriteLine($"     Population: {continent.Population:N0} | Area: {continent.Area:N0} sq. miles");
        }
        
        Console.WriteLine("\n??  THE GREAT POWERS:");
        var goodFactions = _worldSystem.GetFactionsByAlignment("Good");
        var evilFactions = _worldSystem.GetFactionsByAlignment("Evil");
        Console.WriteLine($"   • Good Factions: {string.Join(", ", goodFactions.Select(f => f.Name))}");
        Console.WriteLine($"   • Evil Forces: {string.Join(", ", evilFactions.Select(f => f.Name))}");
        
        Console.WriteLine("\n?? LEGENDARY LEADERS:");
        var leaders = _worldSystem.GetLeadersByRank().Take(5);
        foreach (var leader in leaders)
        {
            Console.WriteLine($"   • {leader.GetFullTitle()} (Level {leader.Level})");
        }
        
        Console.WriteLine("\n??  ARTIFACTS OF POWER:");
        var artifacts = _worldSystem.GetAllArtifacts().Take(3);
        foreach (var artifact in artifacts)
        {
            Console.WriteLine($"   • {artifact.Name} - {artifact.Description}");
        }
        
        Console.WriteLine("\n?? LEGENDARY BOSSES:");
        var bosses = _worldSystem.GetAllLegendaryBeasts().Take(3);
        foreach (var boss in bosses)
        {
            Console.WriteLine($"   • {boss.Name} - {boss.Description}");
        }
        
        Console.WriteLine();
    }

    /// <summary>
    /// Display lore on load screen
    /// </summary>
    public void DisplayLoadScreenLore()
    {
        Console.Clear();
        Console.WriteLine();
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine("                   LOADING THE WORLD OF AETHERMOOR...");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        // Display loading messages with world lore
        var lorePieces = new[]
        {
            ("Creating Aethermoor...", "establishment"),
            ("Forming Continents...", "geography"),
            ("Establishing Kingdoms...", "politics"),
            ("Summoning Legends...", "characters"),
            ("Forging Artifacts...", "items"),
            ("Gathering Prophecies...", "prophecy")
        };

        foreach (var (message, loreType) in lorePieces)
        {
            Console.WriteLine($"? {message}");
            System.Threading.Thread.Sleep(800);
        }

        Console.WriteLine();
        Console.WriteLine("?? World Ready!");
        Console.WriteLine();
        
        // Show a snippet of lore
        Console.WriteLine("?? Ancient Prophecy:");
        Console.WriteLine(_worldSystem.GetWorldLore("prophecy"));
        Console.WriteLine();
    }

    /// <summary>
    /// Display character creation faction selection
    /// </summary>
    public void DisplayFactionSelection()
    {
        Console.Clear();
        Console.WriteLine();
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine("              CHOOSE YOUR FACTION IN AETHERMOOR");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        var factions = _worldSystem.GetAllFactions();
        
        Console.WriteLine("?? FORCES OF GOOD");
        var goodFactions = factions.Where(f => f.Alignment.Contains("Good")).ToList();
        for (int i = 0; i < goodFactions.Count; i++)
        {
            Console.WriteLine($"{i + 1}. {goodFactions[i].Name}");
            Console.WriteLine($"   Leader: {goodFactions[i].LeaderName}");
            Console.WriteLine($"   {goodFactions[i].Description}");
            Console.WriteLine();
        }
        
        Console.WriteLine("? NEUTRAL FORCES");
        var neutralFactions = factions.Where(f => f.Alignment == "Neutral").ToList();
        for (int i = 0; i < neutralFactions.Count; i++)
        {
            Console.WriteLine($"{goodFactions.Count + i + 1}. {neutralFactions[i].Name}");
            Console.WriteLine($"   Leader: {neutralFactions[i].LeaderName}");
            Console.WriteLine($"   {neutralFactions[i].Description}");
            Console.WriteLine();
        }
        
        Console.WriteLine("? FORCES OF EVIL");
        var evilFactions = factions.Where(f => f.Alignment.Contains("Evil")).ToList();
        for (int i = 0; i < evilFactions.Count; i++)
        {
            Console.WriteLine($"{goodFactions.Count + neutralFactions.Count + i + 1}. {evilFactions[i].Name}");
            Console.WriteLine($"   Leader: {evilFactions[i].LeaderName}");
            Console.WriteLine($"   {evilFactions[i].Description}");
            Console.WriteLine();
        }
    }

    /// <summary>
    /// Display world map overview
    /// </summary>
    public void DisplayWorldMap()
    {
        Console.Clear();
        Console.WriteLine();
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine("?                     MAP OF AETHERMOOR                        ?");
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        var continents = _worldSystem.GetAllContinents();
        
        Console.WriteLine("?? NORTH ??????????????????????????????????????????????????????");
        Console.WriteLine("?  VALORATH (The Frozen North)");
        Console.WriteLine("?  ?? Ironhammer Kingdom (Dwarves)");
        Console.WriteLine("?  ?? Frostheim Wastes (Frozen)");
        Console.WriteLine("?  ?? Drakespine Mountains (Dragons)");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        Console.WriteLine("?? EAST ???????????????????????????????????????????????????????");
        Console.WriteLine("?  LUMERIA (The Mystical East)");
        Console.WriteLine("?  ?? Emerald Vale (Elves)");
        Console.WriteLine("?  ?? Shadowpine Jungle (Magic)");
        Console.WriteLine("?  ?? Arcane Isles (Wizards)");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        Console.WriteLine("?? WEST ???????????????????????????????????????????????????????");
        Console.WriteLine("?  MORTALIS (The Western Kingdoms)");
        Console.WriteLine("?  ?? Valorian Kingdom (Humans)");
        Console.WriteLine("?  ?? Merchant's Confluence (Trade)");
        Console.WriteLine("?  ?? Northmark Frontier (Rangers)");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        Console.WriteLine("?? SOUTH ??????????????????????????????????????????????????????");
        Console.WriteLine("?  KHARANOS (The Southern Deserts)");
        Console.WriteLine("?  ?? Scarab Dynasty (Ancient)");
        Console.WriteLine("?  ?? Endless Dunes (Desert)");
        Console.WriteLine("?  ?? Lusatian Jungles (Jungle)");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        Console.WriteLine("?? CENTER ?????????????????????????????????????????????????????");
        Console.WriteLine("?  AETHRAL (Central Conflict Zone)");
        Console.WriteLine("?  ?? Shadowlands (Undeath)");
        Console.WriteLine("?  ?? Demonfire Wastes (Demons)");
        Console.WriteLine("?  ?? Contested Badlands (War)");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        Console.WriteLine("?? BELOW ??????????????????????????????????????????????????????");
        Console.WriteLine("?  DEEPMOOR (The Underground)");
        Console.WriteLine("?  ?? Khaz-Modan (Dwarves)");
        Console.WriteLine("?  ?? Underdark Abyss (Drow)");
        Console.WriteLine("?  ?? Fungal Depths (Mysterious)");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        Console.WriteLine("?? ABOVE ??????????????????????????????????????????????????????");
        Console.WriteLine("?  CELESTIA (The Sky Realms)");
        Console.WriteLine("?  ?? Aethermere Sky (Angels)");
        Console.WriteLine("?  ?? Storm Islands (Storms)");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
    }

    /// <summary>
    /// Display game tips from the world
    /// </summary>
    public void DisplayGameTips()
    {
        var tips = new[]
        {
            "?? Visit all continents to discover the full scope of Aethermoor!",
            "?? Different factions have different allies and enemies - choose carefully!",
            "?? Complete quests for faction leaders to gain reputation and rewards.",
            "?? Higher-level zones contain more powerful loot and legendary artifacts.",
            "?? The Lich King Morthos is spreading corruption across the Shadowlands.",
            "?? Prophecy foretells the coming of a great hero... could that be you?",
            "?? Legendary artifacts are scattered throughout dungeons and boss encounters.",
            "?? Ancient dragons still roam the Drakespine Mountains.",
            "?? The Arcane Isles hold the greatest magical secrets in Aethermoor.",
            "?? Nomadic tribes control the vast Endless Dunes of Kharanos.",
            "?? Underground dwarven cities are marvels of craftsmanship.",
            "?? Sky realms float above the clouds, ruled by celestial powers.",
            "?? Many cultures and races have called Aethermoor home for millennia.",
            "?? The balance between good and evil hangs in the balance.",
            "?? Your choices will shape the fate of Aethermoor!"
        };
        
        Console.Clear();
        Console.WriteLine();
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine("                       TIPS FROM AETHERMOOR");
        Console.WriteLine("???????????????????????????????????????????????????????????????");
        Console.WriteLine();
        
        var random = new Random();
        var selectedTip = tips[random.Next(tips.Length)];
        Console.WriteLine(selectedTip);
        Console.WriteLine();
    }

    /// <summary>
    /// Integration example for a game menu
    /// </summary>
    public void ShowMainMenuIntegration()
    {
        Console.Clear();
        Console.WriteLine();
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine("?                      AETHERMOOR - MAIN MENU                  ?");
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine();
        Console.WriteLine("   1. New Game");
        Console.WriteLine("   2. View World Map");
        Console.WriteLine("   3. World Information");
        Console.WriteLine("   4. Learn the Lore");
        Console.WriteLine("   5. View Legendary Artifacts");
        Console.WriteLine("   6. Boss Encounters");
        Console.WriteLine("   7. Meet the Characters");
        Console.WriteLine("   8. Faction Information");
        Console.WriteLine("   9. Continue Game");
        Console.WriteLine("   0. Exit");
        Console.WriteLine();
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine("?         Seven Continents | Thirteen Factions | Infinite        ?");
        Console.WriteLine("?                    Adventures Await                           ?");
        Console.WriteLine("????????????????????????????????????????????????????????????????");
        Console.WriteLine();
    }
}

/// <summary>
/// Startup code to initialize Aethermoor in your game
/// </summary>
public class AethermoorStartup
{
    public static void Main()
    {
        // Create world system
        var worldSystem = new Game.AethermoorWorldSystem();
        var display = new AethermoorWorldDisplay();
        
        // Show welcome screen
        display.DisplayWelcomeScreen();
        
        Console.WriteLine("Press any key to continue...");
        Console.ReadKey();
        
        // Show world map
        display.DisplayWorldMap();
        
        Console.WriteLine("Press any key to continue...");
        Console.ReadKey();
        
        // Show main menu
        display.ShowMainMenuIntegration();
        
        Console.WriteLine("Press any key to continue...");
        Console.ReadKey();
        
        // Show world info
        display.DisplayWorldInfoScreen();
        
        Console.WriteLine("Press any key to continue...");
        Console.ReadKey();
    }
}
